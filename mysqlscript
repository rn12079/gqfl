mysql for adding invoice tax and other details;

alter table inventory  add column created_date date  , add column modified_date date;

alter table inventory change inners tax double;

alter table inventory  add column discount double;

alter table inventory add column tad int;

alter table inventory change loose namount double;

alter table products add column maker varchar(255);

alter table products add column casesize int;

alter table products add column units varchar(20);

create table locations (id int not null auto_increment, name varchar(255), type varchar(255), primary key (id));

insert into locations(name,type) values ('P Block','dry');
insert into locations(name,type) values ('Sana','cold');
insert into locations(name,type) values ('Hydri','store');
insert into locations(name,type) values ('Shehbaz','store');

create view current_prices as (select product_name,supplier,current_rate,count(*) cnt from (select max(date) md ,product_id from inventory where del!=1 group by product_id) a inner join (select product_name, supplier, truncate((namount-discount)/cases,2) as current_rate,date,product_id from inventory i join products p on i.product_id=p.id where del!=1) b on a.md=b.date and a.product_id=b.product_id group by 1,2,3 order by 2);





